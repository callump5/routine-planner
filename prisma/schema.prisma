generator client {
  provider = "prisma-client"
  output   = "../app/generated/prisma"
}

datasource db {
  provider = "mysql"
}

model User {
  id        Int      @id @default(autoincrement())
  email     String   @unique
  name      String?
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now()) @updatedAt
  budgets   Budget[]
}

enum BudgetType {
  INCOME
  EXPENSE
}

enum RecurrenceRate {
  DAILY
  WEEKLY
  MONTHLY
  YEARLY
  ONE_TIME
}

model Budget {
  id         Int            @id @default(autoincrement())
  type       BudgetType
  userId     Int
  amount     Float
  dueDate    DateTime       @default(now())
  recurrence RecurrenceRate @default(ONE_TIME)
  user       User           @relation(fields: [userId], references: [id])
  createdAt  DateTime       @default(now())
  updatedAt  DateTime       @default(now()) @updatedAt

  @@index([userId], map: "Budget_userId_fkey")
}
